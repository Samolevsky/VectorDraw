<!DOCTYPE html>
<html>

<head lang="en">
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>VectorDraw</title>
	<script>
		// Apply theme immediately to prevent flash
		(function () {
			const theme = localStorage.getItem('theme');
			if (theme === 'dark') {
				document.documentElement.classList.add('dark-theme');
			}
		})();
	</script>
	<link href="css/reset.css" rel="stylesheet" />
	<link href="css/colorpicker.css?v=10" rel="stylesheet" />
	<link href="css/spectrum_override.css?v=9" rel="stylesheet" />
	<link href="css/modal.css" rel="stylesheet" />
	<link href="css/menu.css" rel="stylesheet" />
	<link href="css/styles.css" rel="stylesheet" />
	<link href="css/toolbar.css?v=8" rel="stylesheet" />
	<link href="css/toolOptionPanel.css" rel="stylesheet" />
	<link href="css/layerPanel.css?v=3" rel="stylesheet" />
	<link href="css/symbolsPanel.css" rel="stylesheet" />
	<link href="css/codeEditor.css" rel="stylesheet" />
	<link href="css/sidebar.css" rel="stylesheet" />
	<link href="css/floatingPanels.css" rel="stylesheet" />
	<link href="css/effectsPanel.css?v=6" rel="stylesheet" />
	<link href="css/liveEffects.css" rel="stylesheet" />
	<link href="css/enhancements.css" rel="stylesheet" />

</head>

<body>
	<canvas id="paperCanvas"></canvas>

	<div id="loadingScreen" class="loadingScreen">
		<div class="panel">
			<span class="loading-text">Loading</span>
			<span class="loading-dots">
				<span class="dot"></span>
				<span class="dot"></span>
				<span class="dot"></span>
			</span>
		</div>
	</div>

	<!-- Main Menu -->
	<nav class="appNav" id="appNav">
		<ul class="topMenu">
			<li class="topMenuButton"><svg class="burgerButton" version="1.1" xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100"
					enable-background="new 0 0 100 100" xml:space="preserve">
					<line stroke-width="12" x1="0" y1="9.5" x2="100" y2="9.5" />
					<line stroke-width="12" x1="0" y1="50.5" x2="100" y2="50.5" />
					<line stroke-width="12" x1="0" y1="90.5" x2="100" y2="90.5" />
				</svg>
				<ul class="subMenu">
					<li class="clearDocument_button">New</li>
					<li class="importJSON_button">Open<input id="fileUploadJSON" class="fileUploadInput" type="file"
							accept=".json"></li>
					<li class="exportJSON_button">Save</li>
					<li class="space"></li>
					<li class="importMenu hasSubSubMenu">Import
						<ul class="subSubMenu">
							<li class="importImage_button">Image<input id="fileUploadImage" class="fileUploadInput"
									type="file" accept=".gif, .jpg, .jpeg, .png"></li>
							<li class="importImageFromURL_button">Image from URL</li>
							<li class="importSVG_button">SVG<input id="fileUploadSVG" class="fileUploadInput"
									type="file" accept=".svg"></li>
							<li class="importSVGFromURL_button">SVG from URL</li>
						</ul>
					</li>
					<li class="exportMenu hasSubSubMenu">Export
						<ul class="subSubMenu">
							<li class="exportImage_button">Image</li>
							<li class="exportSVG_button">SVG</li>
						</ul>
					</li>
					<li class="space"></li>
					<li class="hasSubSubMenu">View
						<ul class="subSubMenu">
							<li class="zoomIn_button" title="Alt-ScrollUp">Zoom in</li>
							<li class="zoomOut_button" title="Alt-ScrollDown">Zoom out</li>
							<li class="resetZoom_button" title="Ctrl-1">Reset zoom</li>
							<li class="resetPan_button">Reset pan</li>
						</ul>
					</li>
					<li class="space"></li>
					<li class="resetSettings_button">Reset Settings</li>
					<li class="resetPanels_button">Reset Panel States</li>
					<li class="space"></li>
					<li class="aboutButton" title="About">About</li>
				</ul>
			</li>

			<li class="topMenuButton">Edit
				<ul class="subMenu">
					<li class="undo_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z" />
						</svg>
						<span class="menuLabel">Undo</span>
						<span class="menuShortcut">⌘Z</span>
					</li>
					<li class="redo_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M12,10H24.1851L20.5977,6.4141,22,5,28,11,22,17l-1.4023-1.4146L24.1821,12H12a6,6,0,0,0,0,12h8v2H12a8,8,0,0,1,0-16Z" />
						</svg>
						<span class="menuLabel">Redo</span>
						<span class="menuShortcut">⌘⇧Z</span>
					</li>
					<li class="space"></li>
					<li class="cut_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M28,8h2V4a2.0021,2.0021,0,0,0-2-2H24V4h4Z" />
							<rect x="17" y="2" width="4" height="2" />
							<rect x="28" y="11" width="2" height="4" />
							<path
								d="M28,18v4H24V10a2.0023,2.0023,0,0,0-2-2H10V4h4V2H10A2.0023,2.0023,0,0,0,8,4V8H4a2.0023,2.0023,0,0,0-2,2V28a2.0023,2.0023,0,0,0,2,2H22a2.0023,2.0023,0,0,0,2-2V24h4a2.0023,2.0023,0,0,0,2-2V18ZM22,28H4V10H22Z" />
						</svg>
						<span class="menuLabel">Cut</span>
						<span class="menuShortcut">⌘X</span>
					</li>
					<li class="copy_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" />
							<path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" />
						</svg>
						<span class="menuLabel">Copy</span>
						<span class="menuShortcut">⌘C</span>
					</li>
					<li class="paste_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M26,20H17.83l2.58-2.59L19,16l-5,5,5,5,1.41-1.41L17.83,22H26v8h2V22A2,2,0,0,0,26,20Z" />
							<path
								d="M23.71,9.29l-7-7A1,1,0,0,0,16,2H6A2,2,0,0,0,4,4V28a2,2,0,0,0,2,2h8V28H6V4h8v6a2,2,0,0,0,2,2h6v2h2V10A1,1,0,0,0,23.71,9.29ZM16,4.41,21.59,10H16Z" />
						</svg>
						<span class="menuLabel">Paste</span>
						<span class="menuShortcut">⌘V</span>
					</li>
					<li class="space"></li>
					<li class="delete_button">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M12,12h2v12h-2V12z M18,12h2v12h-2V12z" />
							<path d="M4,6v2h2v20c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8h2V6H4z M24,28H8V8h16V28z" />
							<path d="M12,2h8v2h-8V2z" />
						</svg>
						<span class="menuLabel">Delete</span>
						<span class="menuShortcut">⌫</span>
					</li>
					<li class="space"></li>
					<li class="detachSymbol_button" style="display:none;">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M20,6a9.9539,9.9539,0,0,0-4,.8379,9.9953,9.9953,0,0,1,2.2451,1.36,8,8,0,1,1,0,15.6016,9.9758,9.9758,0,0,1-2.2451,1.36A9.9976,9.9976,0,1,0,20,6Z"/>
							<path d="M12,16a8.01,8.01,0,0,0,6.2483,7.8008,9.9858,9.9858,0,0,0,0-15.6016A8.01,8.01,0,0,0,12,16Z"/>
							<path d="M10,16a10.0105,10.0105,0,0,1,6.0032-9.1606,10,10,0,1,0,0,18.3212A10.0105,10.0105,0,0,1,10,16Z"/>
							<line x1="4" y1="4" x2="28" y2="28" stroke="currentColor" stroke-width="2"/>
						</svg>
						Detach from Symbol
					</li>
				</ul>
			</li>

			<li class="topMenuButton">Tool
				<ul class="subMenu" id="toolSubMenu">
				</ul>
			</li>

			<li class="topMenuButton">Window
				<ul class="subMenu" id="windowSubMenu">
					<li class="windowPanelButton" data-panel="adjustments">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<rect x="15" y="2" width="2" height="3" />
							<rect x="27" y="15" width="3" height="2" />
							<rect x="15" y="27" width="2" height="3" />
							<rect x="2" y="15" width="3" height="2" />
							<rect x="6.22" y="5.73" width="2" height="3" transform="translate(-3 7.23) rotate(-45)" />
							<rect x="23.27" y="6.23" width="3" height="2"
								transform="translate(2.14 19.63) rotate(-45)" />
							<rect x="23.77" y="23.27" width="2" height="3"
								transform="translate(-10.26 24.77) rotate(-45)" />
							<polygon points="5.47 25.13 7.59 23 9 24.42 6.88 26.54 5.47 25.13" />
							<path d="M16,8a8,8,0,1,0,8,8A8,8,0,0,0,16,8Zm0,14a6,6,0,0,1,0-12Z" />
						</svg>
						Adjustments
					</li>
					<li class="windowPanelButton" data-panel="align">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M26,26H11a2.0023,2.0023,0,0,1-2-2V20a2.0023,2.0023,0,0,1,2-2H26a2.0023,2.0023,0,0,1,2,2v4A2.0023,2.0023,0,0,1,26,26Zm0-6.0012L11,20v4H26Z"/>
							<path d="M18,14H11a2.0023,2.0023,0,0,1-2-2V8a2.0023,2.0023,0,0,1,2-2h7a2.0023,2.0023,0,0,1,2,2v4A2.0023,2.0023,0,0,1,18,14Zm0-6.0012L11,8v4h7Z"/>
							<rect x="4" y="2" width="2" height="28"/>
						</svg>
						Align
					</li>
					<li class="windowPanelButton" data-panel="properties">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M20,6a9.9272,9.9272,0,0,0-3.9968.8394,9.9758,9.9758,0,0,1,2.2451,1.36,8,8,0,1,1,0,15.6016,9.9758,9.9758,0,0,1-2.2451,1.36A9.9976,9.9976,0,1,0,20,6Z" />
							<path
								d="M12,16a8.01,8.01,0,0,0,6.2483,7.8008,9.9858,9.9858,0,0,0,0-15.6016A8.01,8.01,0,0,0,12,16Z" />
							<path
								d="M10,16a10.0105,10.0105,0,0,1,6.0032-9.1606,10,10,0,1,0,0,18.3212A10.0105,10.0105,0,0,1,10,16Z" />
						</svg>
						Appearance
					</li>
					<li class="windowPanelButton" data-panel="boolean">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M30,12v16c0,1.0999756-.9000244,2-2,2H12c-1.0999756,0-2-.9000244-2-2v-4h2v4h16V12h-4v-2h4c1.0999756,0,2,.9000244,2,2Z" />
							<path
								d="M22,4v4h-2v-4H4v16h4v2h-4c-1.0999756,0-2-.9000244-2-2V4c0-1.0999756.9000244-2,2-2h16c1.0999756,0,2,.9000244,2,2Z" />
							<rect x="10" y="10" width="12" height="12" />
						</svg>
						Boolean
					</li>
					<li class="windowPanelButton" data-panel="brushes">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M28.8281,3.1719a4.0941,4.0941,0,0,0-5.6562,0L4.05,22.292A6.9537,6.9537,0,0,0,2,27.2412V30H4.7559a6.9523,6.9523,0,0,0,4.95-2.05L28.8281,8.8286a3.999,3.999,0,0,0,0-5.6567ZM10.91,18.26l2.8286,2.8286L11.6172,23.21,8.7886,20.3818ZM8.2915,26.5356A4.9665,4.9665,0,0,1,4.7559,28H4v-.7588a4.9669,4.9669,0,0,1,1.4644-3.5351l1.91-1.91,2.8286,2.8281ZM27.4141,7.4141,15.1528,19.6748l-2.8286-2.8286,12.2617-12.26a2.0473,2.0473,0,0,1,2.8282,0,1.9995,1.9995,0,0,1,0,2.8282Z" />
							<path
								d="M6.5,15A3.4994,3.4994,0,0,1,4.0249,9.026l3.5005-3.5a1.5019,1.5019,0,0,0,0-2.121,1.537,1.537,0,0,0-2.1216,0L3.415,5.3936,2,3.98,3.99,1.9915a3.5849,3.5849,0,0,1,4.95,0,3.5039,3.5039,0,0,1,0,4.949L5.439,10.44a1.5019,1.5019,0,0,0,0,2.121,1.5369,1.5369,0,0,0,2.1215,0l4.0249-4.0243L13,9.9507,8.9746,13.975A3.4754,3.4754,0,0,1,6.5,15Z" />
						</svg>
						Brushes
					</li>
					<li class="windowPanelButton" data-panel="effects">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M7.7,4.7a14.7029,14.7029,0,0,0-3,3.1L6.3,9A13.2634,13.2634,0,0,1,8.9,6.3Z"/>
							<path d="M4.6,12.3l-1.9-.6A12.5111,12.5111,0,0,0,2,16H4A11.4756,11.4756,0,0,1,4.6,12.3Z"/>
							<path d="M2.7,20.4a14.4029,14.4029,0,0,0,2,3.9l1.6-1.2a12.8867,12.8867,0,0,1-1.7-3.3Z"/>
							<path d="M7.8,27.3a14.4029,14.4029,0,0,0,3.9,2l.6-1.9A12.8867,12.8867,0,0,1,9,25.7Z"/>
							<path d="M11.7,2.7l.6,1.9A11.4756,11.4756,0,0,1,16,4V2A12.5111,12.5111,0,0,0,11.7,2.7Z"/>
							<path d="M24.2,27.3a15.18,15.18,0,0,0,3.1-3.1L25.7,23A11.526,11.526,0,0,1,23,25.7Z"/>
							<path d="M27.4,19.7l1.9.6A15.4747,15.4747,0,0,0,30,16H28A11.4756,11.4756,0,0,1,27.4,19.7Z"/>
							<path d="M29.2,11.6a14.4029,14.4029,0,0,0-2-3.9L25.6,8.9a12.8867,12.8867,0,0,1,1.7,3.3Z"/>
							<path d="M24.1,4.6a14.4029,14.4029,0,0,0-3.9-2l-.6,1.9a12.8867,12.8867,0,0,1,3.3,1.7Z"/>
							<path d="M20.3,29.3l-.6-1.9A11.4756,11.4756,0,0,1,16,28v2A21.4206,21.4206,0,0,0,20.3,29.3Z"/>
							<path d="M16,26A10,10,0,1,1,26,16,10.0115,10.0115,0,0,1,16,26ZM16,8a8,8,0,1,0,8,8A8.0092,8.0092,0,0,0,16,8Z"/>
						</svg>
						Effects
					</li>
					<li class="windowPanelButton" data-panel="export">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<polygon
								points="13 21 26.17 21 23.59 23.59 25 25 30 20 25 15 23.59 16.41 26.17 19 13 19 13 21" />
							<path
								d="M22,14V10a1,1,0,0,0-.29-.71l-7-7A1,1,0,0,0,14,2H4A2,2,0,0,0,2,4V28a2,2,0,0,0,2,2H20a2,2,0,0,0,2-2V26H20v2H4V4h8v6a2,2,0,0,0,2,2h6v2Zm-8-4V4.41L19.59,10Z" />
						</svg>
						Export
					</li>
					<li class="windowPanelButton" data-panel="help">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,26A12,12,0,1,1,28,16,12,12,0,0,1,16,28Z" />
							<circle cx="16" cy="23.5" r="1.5" />
							<path
								d="M17,8H15.5A4.49,4.49,0,0,0,11,12.5V13h2v-.5A2.5,2.5,0,0,1,15.5,10H17a2.5,2.5,0,0,1,0,5H15v4.5h2V17a4.5,4.5,0,0,0,0-9Z" />
						</svg>
						Help
					</li>
					<li class="windowPanelButton" data-panel="layers">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M16,24a.9967.9967,0,0,1-.4741-.12l-13-7L3.4741,15.12,16,21.8643,28.5259,15.12l.9482,1.7607-13,7A.9967.9967,0,0,1,16,24Z" />
							<path
								d="M16,30a.9967.9967,0,0,1-.4741-.12l-13-7L3.4741,21.12,16,27.8643,28.5259,21.12l.9482,1.7607-13,7A.9967.9967,0,0,1,16,30Z" />
							<path
								d="M16,18a.9967.9967,0,0,1-.4741-.12l-13-7a1,1,0,0,1,0-1.7607l13-7a.9982.9982,0,0,1,.9482,0l13,7a1,1,0,0,1,0,1.7607l-13,7A.9967.9967,0,0,1,16,18ZM5.1094,10,16,15.8643,26.8906,10,16,4.1358Z" />
						</svg>
						Layers
					</li>
					<li class="windowPanelButton" data-panel="live-effects">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M30,6a3.9916,3.9916,0,0,0-7.9773-.2241L9.5864,8.2627A3.99,3.99,0,1,0,5,13.8579v8.2842A3.9915,3.9915,0,1,0,9.8579,27h8.2842a3.9912,3.9912,0,1,0,5.595-4.5864l2.487-12.4361A3.9945,3.9945,0,0,0,30,6ZM26,4a2,2,0,1,1-2,2A2.0023,2.0023,0,0,1,26,4ZM4,10a2,2,0,1,1,2,2A2.0023,2.0023,0,0,1,4,10ZM6,28a2,2,0,1,1,2-2A2.0023,2.0023,0,0,1,6,28Zm12.1421-3H9.8579A3.9942,3.9942,0,0,0,7,22.1421V13.8579a3.9871,3.9871,0,0,0,2.9773-3.6338L22.4136,7.7373a4.0053,4.0053,0,0,0,1.8493,1.8491l-2.487,12.4361A3.9874,3.9874,0,0,0,18.1421,25ZM22,28a2,2,0,1,1,2-2A2.0023,2.0023,0,0,1,22,28Z"/>
						</svg>
						Modifiers
					</li>
					<li class="windowPanelButton" data-panel="tool-properties">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M30,8h-4.1c-0.5-2.3-2.5-4-4.9-4s-4.4,1.7-4.9,4H2v2h14.1c0.5,2.3,2.5,4,4.9,4s4.4-1.7,4.9-4H30V8z M21,12c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S22.7,12,21,12z" />
							<path
								d="M2,24h4.1c0.5,2.3,2.5,4,4.9,4s4.4-1.7,4.9-4H30v-2H15.9c-0.5-2.3-2.5-4-4.9-4s-4.4,1.7-4.9,4H2V24z M11,20c1.7,0,3,1.3,3,3s-1.3,3-3,3s-3-1.3-3-3S9.3,20,11,20z" />
						</svg>
						Properties
					</li>
					<li class="windowPanelButton" data-panel="script">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<polygon points="31 16 24 23 22.59 21.59 28.17 16 22.59 10.41 24 9 31 16" />
							<polygon points="1 16 8 9 9.41 10.41 3.83 16 9.41 21.59 8 23 1 16" />
							<rect x="5.91" y="15" width="20.17" height="2"
								transform="translate(-3.6 27.31) rotate(-75)" />
						</svg>
						Script Editor
					</li>
					<li class="windowPanelButton" data-panel="swatches">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<circle cx="10" cy="12" r="2" />
							<circle cx="16" cy="9" r="2" />
							<circle cx="22" cy="12" r="2" />
							<circle cx="23" cy="18" r="2" />
							<circle cx="19" cy="23" r="2" />
							<path
								d="M16.54,2A14,14,0,0,0,2,16a4.82,4.82,0,0,0,6.09,4.65l1.12-.31A3,3,0,0,1,13,23.24V27a3,3,0,0,0,3,3A14,14,0,0,0,30,15.46,14.05,14.05,0,0,0,16.54,2Zm8.11,22.31A11.93,11.93,0,0,1,16,28a1,1,0,0,1-1-1V23.24a5,5,0,0,0-5-5,5.07,5.07,0,0,0-1.33.18l-1.12.31A2.82,2.82,0,0,1,4,16,12,12,0,0,1,16.47,4,12.18,12.18,0,0,1,28,15.53,11.89,11.89,0,0,1,24.65,24.32Z" />
						</svg>
						Swatches
					</li>
					<li class="windowPanelButton" data-panel="symbols">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path d="M23,23a7,7,0,1,1,7-7A7.0078,7.0078,0,0,1,23,23Zm0-12a5,5,0,1,0,5,5A5.0055,5.0055,0,0,0,23,11Z"/>
							<circle cx="9" cy="16" r="7"/>
						</svg>
						Symbols
					</li>
					<li class="windowPanelButton" data-panel="view">
						<svg class="menuIcon" viewBox="0 0 32 32">
							<path
								d="M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"
								transform="translate(0 0)" />
							<path d="M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"
								transform="translate(0 0)" />
						</svg>
						View
					</li>
				</ul>
			</li>

			<li class="supportButton" id="supportButton">
				<svg class="supportIcon" viewBox="0 0 32 32" width="14" height="14" fill="currentColor">
					<path d="M22.5,4c-2,0-3.9,0.8-5.3,2.2L16,7.4l-1.1-1.1C12,3.3,7.2,3.3,4.3,6.2c0,0-0.1,0.1-0.1,0.1c-3,3-3,7.8,0,10.8L16,29l11.8-11.9c3-3,3-7.8,0-10.8C26.4,4.8,24.5,4,22.5,4z"/>
				</svg>
				Support App Development
			</li>

		</ul>
	</nav>

	<div id="toolbar" class="toolbar">

		<!-- Tools Container -->
		<div class="toolsContainer toolbarSection"></div>

		<!-- Undo/Redo Container -->
		<div class="undoRedoContainer toolbarSection">
			<div class="undoButton" id="undoButton" title="Undo (Ctrl/Cmd+Z)"></div>
			<div class="redoButton" id="redoButton" title="Redo (Ctrl/Cmd+Shift+Z)"></div>
		</div>

		<!-- Color Container -->
		<div class="colorContainer toolbarSection extraSpace">
			<div class="colorPickerWrapper">
				<button class="noColorButton noFillButton" id="noFillButton" title="No fill color"></button>
				<input type="text" id="fillColorInput" class="fillColor" />
				<input type="text" id="strokeColorInput" class="strokeColor" />
				<button class="colorSwitchButton" id="colorSwitchButton" title="Swap fill and stroke colors">
					<svg width="16" height="8" viewBox="0 0 32 14" xmlns="http://www.w3.org/2000/svg">
						<polygon
							points="7 2 2 7 7 12 8.4189997 10.5909996 5.8470001 8 13 8 13 6 5.7940001 6 8.4189997 3.4090004 7 2"
							fill="currentColor" />
						<polygon
							points="25 2 30 7 25 12 23.5809994 10.5909996 26.1529999 8 19 8 19 6 26.2059994 6 23.5809994 3.4090004 25 2"
							fill="currentColor" />
					</svg>
				</button>
				<button class="noColorButton noStrokeButton" id="noStrokeButton" title="No stroke color"></button>
			</div>
		</div>

		<div class="opacitySection toolbarSection extraSpace" style="display: none;">
			<label class="toolbarLabel">Opacity</label>
			<input type="number" min="0" max="100" maxlength="3" id="opacityInput" value="100"
				class="opacityInput comboInput" title="Opacity" />
			<select id="opacitySelect" class="opacitySelect comboSelect" title="Opacity">
				<option class="hidden" selected value=""></option>
				<option value="0">0%</option>
				<option value="10">10%</option>
				<option value="20">20%</option>
				<option value="30">30%</option>
				<option value="40">40%</option>
				<option value="50">50%</option>
				<option value="60">60%</option>
				<option value="70">70%</option>
				<option value="80">80%</option>
				<option value="90">90%</option>
				<option value="100">100%</option>
			</select>
		</div>

		<div class="blendModeSection toolbarSection extraSpace" style="display: none;"></div>
		<label class="toolbarLabel">Blending</label>
		<select id="blendModeSelect" class="blendModeSelect" title="Blend mode">
			<option value="normal" selected>Normal</option>
			<option value="multiply">Multiply</option>
			<option value="screen">Screen</option>
			<option value="overlay">Overlay</option>
			<option value="soft-light">Soft-Light</option>
			<option value="hard-light">Hard-Light</option>
			<option value="color-dodge">Color-Dodge</option>
			<option value="color-burn">Color-Burn</option>
			<option value="darken">Darken</option>
			<option value="lighten">Lighten</option>
			<option value="differende">Difference</option>
			<option value="exclusion">Exclusion</option>
			<option value="hue">Hue</option>
			<option value="saturation">Saturation</option>
			<option value="luminosity">Luminosity</option>
			<option value="color">Color</option>
			<option value="add">Add</option>
			<option value="subtract">Subtract</option>
			<option value="average">Average</option>
			<option value="pin-light">Pin-Light</option>
			<option value="negation">Negation</option>
			<option value="source-over">Source-Over</option>
			<option value="source-in">Source-In</option>
			<option value="source-atop">Source-Atop</option>
			<option value="destination-over">Destination-Over</option>
			<option value="destination-in">Destination-In</option>
			<option value="destination-out">Destination-Out</option>
			<option value="destination-atop">Destination-Atop</option>
			<option value="lighter">Lighter</option>
			<option value="darker">Darker</option>
			<option value="copy">Copy</option>
			<option value="xor">XOR</option>
		</select>
	</div>

	<div class="strokeSection toolbarSection extraSpace" style="display: none;"></div>
	<label class="toolbarLabel">Stroke</label>
	<input type="number" min="0" step="0.1" maxlength="3" id="strokeInput" value="1" class="strokeInput" />
	<div class="strokeButtons">
		<button class="inputHelper increase" id="increaseStrokeWidthButton"><svg viewBox="0 0 12 12" width="10"
				height="10">
				<path d="M6 3 L10 9 L2 9 Z" fill="currentColor" />
			</svg></button>
		<button class="inputHelper decrease" id="decreaseStrokeWidthButton"><svg viewBox="0 0 12 12" width="10"
				height="10">
				<path d="M6 9 L10 3 L2 3 Z" fill="currentColor" />
			</svg></button>
	</div>
	</div>
	</div>

	<!-- Zoom Controls - Floating (similar to reference app) -->
	<div id="zoom-controls" class="zoom-controls">
		<button id="zoom-out" class="zoom-button" title="Zoom Out (-)">
			<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<circle cx="11" cy="11" r="8"></circle>
				<path d="m21 21-4.35-4.35"></path>
				<line x1="8" y1="11" x2="14" y2="11"></line>
			</svg>
		</button>
		<button id="zoom-reset" class="zoom-button" title="Reset Zoom (Ctrl/Cmd+0)">
			<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
				<path d="M21 3v5h-5"></path>
				<path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
				<path d="M3 21v-5h5"></path>
			</svg>
		</button>
		<div class="zoom-display-container">
			<input type="text" id="zoom-input" class="zoom-input" value="100%"
				title="Click to edit zoom level (Use arrow keys to adjust)" />
			<select id="zoomSelect" class="zoom-select-dropdown" title="Zoom presets">
				<option value=""></option>
				<option value="10">1000%</option>
				<option value="5">500%</option>
				<option value="3">300%</option>
				<option value="2">200%</option>
				<option value="1.5">150%</option>
				<option value="1">100%</option>
				<option value="0.5">50%</option>
				<option value="0.2">20%</option>
				<option value="0.1">10%</option>
			</select>
		</div>
		<button id="zoom-in" class="zoom-button" title="Zoom In (+)">
			<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<circle cx="11" cy="11" r="8"></circle>
				<path d="m21 21-4.35-4.35"></path>
				<line x1="11" y1="8" x2="11" y2="14"></line>
				<line x1="8" y1="11" x2="14" y2="11"></line>
			</svg>
		</button>
	</div>

	<div id="codeEditorContainer" class="codeEditorContainer hidden">
		<nav class="codeEditorButtons appNav">
			<ul class="topMenu">
				<li id="runScriptButton" class="runScriptButton">Run</li>
			</ul>
		</nav>
		<div class="codeEditorWrapper">
			<div class="codeEditorLineNumbers" id="codeEditorLineNumbers"></div>
			<div class="codeEditorContent">
				<textarea id="codeEditorArea" class="codeEditorArea"></textarea>
			</div>
		</div>
		<div class="codeEditorStatus" id="codeEditorStatus">
			<div>
				<span class="status-item">Line <span id="statusLine">1</span>, Col <span id="statusCol">1</span></span>
				<span class="status-item">Lines: <span id="statusLines">1</span></span>
			</div>
			<div>
				<span class="status-item">JavaScript</span>
			</div>
		</div>
		<div class="consoleOutput" id="consoleOutput">
			<div id="clearConsoleButton" class="clearConsoleButton">Clear</div>
		</div>
	</div>

	<div id="menuInputBlocker" class="menuInputBlocker hidden"></div>
	<div id="colorInputBlocker" class="colorInputBlocker hidden"></div>

	<!-- libraries -->
	<script src="js/lib/paper-full.min.js"></script>
	<script src="js/lib/jquery-2.2.4.min.js"></script>
	<script src="js/lib/jquery-ui.min.js"></script>
	<script src="js/lib/jquery-extensions.js"></script>
	<script src="js/lib/filesaver.js"></script>
	<script src="js/lib/canvas-toBlob.js"></script>
	<script src="js/lib/culori.min.js"></script>
	<script src="js/lib/colorpicker-wrapper.js"></script>
	<script src="js/lib/opentype.min.js"></script>
	<script src="js/lib/bezpath.js"></script>
	<script src="js/lib/curves.js"></script>

	<!-- application -->
	<script src="js/theme.js"></script>
	<script src="js/init.js"></script>
	<script src="js/settings.js"></script>
	<script src="js/document.js"></script>
	<script src="js/import.js"></script>
	<script src="js/export.js"></script>
	<script src="js/modal.js"></script>
	<script src="js/view.js"></script>
	<script src="js/grid.js"></script>
	<script src="js/item.js"></script>
	<script src="js/group.js"></script>
	<script src="js/layer.js"></script>
	<script src="js/selection.js"></script>
	<script src="js/toolOptionPanel.js"></script>
	<script src="js/hover.js"></script>
	<script src="js/order.js"></script>
	<script src="js/menu.js"></script>
	<script src="js/input.js"></script>
	<script src="js/guides.js"></script>
	<script src="js/boolean.js"></script>
	<script src="js/align.js"></script>
	<script src="js/text.js"></script>
	<script src="js/tools.js"></script>
	<script src="js/toolbar.js"></script>
	<script src="js/stylebar.js"></script>
	<script src="js/statusbar.js"></script>
	<script src="js/layerPanel.js"></script>
	<script src="js/symbols.js"></script>
	<script src="js/math.js"></script>
	<script src="js/edit.js"></script>
	<script src="js/compoundPath.js"></script>
	<script src="js/undo.js"></script>
	<script src="js/helper.js"></script>
	<script src="js/effects.js?v=3"></script>
	<script src="js/liveEffects.js"></script>
	<script src="js/codeEditor.js"></script>
	<script src="js/sidebar.js?v=1764680595"></script>
	<script src="js/floatingPanels.js"></script>
	<script src="js/geometry.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>

	<!-- tools -->

	<script src="js/tools/select.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/detailselect.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/draw.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/brush.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/bezier.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/spiro.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/dubins.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/triangulator.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/cloud.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/broadbrush.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/spraypaint.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/eraser.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/nodenetwork.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/furbrush.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/springbrush.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/ribbonbrush.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/lightningweb.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/text.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/eyedropper.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/circle.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/metaball.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/circle2points.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/circle3points.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/concentricCircles.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/concentricCirclesTool.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/rectangle.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/star.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/polygon.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/spiral.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/spiralLogarithmic.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/line.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/rays.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/ruler.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/graph.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/arc.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/arc3points.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/rotate.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/scale.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/exportrect.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/zoom.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/hand.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/viewgrab.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/sketchystructure.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>
	<script src="js/tools/viewzoom.js" type="text/paperscript" data-paper-canvas="paperCanvas"></script>

	<!-- dev -->
	<script src="js/dev.js"></script>

</body>

</html>