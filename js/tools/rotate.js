var a81_0xf46d65=a81_0xa24b;function a81_0xa24b(_0x589873,_0x1b2eab){_0x589873=_0x589873-0x7c;var _0x2f5d58=a81_0x2f5d();var _0xa24b46=_0x2f5d58[_0x589873];return _0xa24b46;}(function(_0x2f6d1a,_0xcb0cf6){var _0x7b3809=a81_0xa24b,_0x13493e=_0x2f6d1a();while(!![]){try{var _0x1fe746=-parseInt(_0x7b3809(0x7f))/0x1+-parseInt(_0x7b3809(0xb0))/0x2*(parseInt(_0x7b3809(0xa7))/0x3)+-parseInt(_0x7b3809(0xaf))/0x4+parseInt(_0x7b3809(0xa2))/0x5+-parseInt(_0x7b3809(0x8e))/0x6*(parseInt(_0x7b3809(0xb7))/0x7)+-parseInt(_0x7b3809(0x9b))/0x8+-parseInt(_0x7b3809(0x88))/0x9*(-parseInt(_0x7b3809(0x81))/0xa);if(_0x1fe746===_0xcb0cf6)break;else _0x13493e['push'](_0x13493e['shift']());}catch(_0xb1291f){_0x13493e['push'](_0x13493e['shift']());}}}(a81_0x2f5d,0x9164f),pg[a81_0xf46d65(0x83)]['registerTool']({'id':'rotate','name':a81_0xf46d65(0x80),'usedKeys':{'toolbar':'r'}}),pg[a81_0xf46d65(0x83)][a81_0xf46d65(0x91)]=function(){var _0x4f3ad6=a81_0xf46d65,_0x58e98b,_0x28ff31={'rotationCenter':_0x4f3ad6(0x9a),'randomSpeed':![],'lookAt':![],'rotationAngle':0x0},_0x36cb5f={'rotationCenter':{'type':_0x4f3ad6(0x94),'label':'Center','options':['individual',_0x4f3ad6(0x9a),_0x4f3ad6(0xa0)]},'randomSpeed':{'type':_0x4f3ad6(0x7c),'label':_0x4f3ad6(0x97),'requirements':{'rotationCenter':_0x4f3ad6(0x99)}},'lookAt':{'type':_0x4f3ad6(0x7c),'label':_0x4f3ad6(0x85),'requirements':{'rotationCenter':_0x4f3ad6(0x99)}},'rotationAngle':{'type':'float','label':_0x4f3ad6(0x87),'min':-0xb4,'max':0xb4}},_0x8e91d3=function(){var _0x2029d5=_0x4f3ad6,_0x133438,_0x1315d8,_0x3f968b=[],_0x22d69a,_0x3a8aed,_0x74a48a=[],_0x4f83a6=[],_0x4d9fd6=![],_0x26adce=[],_0x53c3d5,_0x1b7523=![],_0xfb6903=null;_0x28ff31=pg[_0x2029d5(0x83)][_0x2029d5(0xbb)](_0x28ff31),_0x58e98b=new Tool();var _0x5d253c=function(){var _0x4836cd=_0x2029d5,_0x40cbd3=pg[_0x4836cd(0x9a)]['getSelectedItems']();if(_0x40cbd3[_0x4836cd(0xa9)]===0x0)_0x28ff31['rotationAngle']=0x0,_0xfb6903=0x0;else _0x40cbd3[_0x4836cd(0xa9)]===0x1?(_0x28ff31[_0x4836cd(0xaa)]=Math[_0x4836cd(0xac)](_0x40cbd3[0x0][_0x4836cd(0xb8)]*0x64)/0x64,_0xfb6903=_0x28ff31[_0x4836cd(0xaa)]):(_0x28ff31[_0x4836cd(0xaa)]=Math[_0x4836cd(0xac)](_0x40cbd3[0x0][_0x4836cd(0xb8)]*0x64)/0x64,_0xfb6903=_0x28ff31['rotationAngle']);_0x1b7523=!![],pg[_0x4836cd(0x95)][_0x4836cd(0xb6)](_0x28ff31),_0x1b7523=![];},_0x2320e4=function(){var _0x2e5117=_0x2029d5;if(_0x1b7523)return;var _0x4de9d5=pg[_0x2e5117(0x9a)][_0x2e5117(0x7e)]();if(_0x4de9d5[_0x2e5117(0xa9)]===0x0)return;var _0x4c3f74=parseFloat(_0x28ff31['rotationAngle'])||0x0,_0x163a18=_0x4c3f74-(_0xfb6903||0x0);if(Math['abs'](_0x163a18)<0.01)return;for(var _0x14aea2=0x0;_0x14aea2<_0x4de9d5[_0x2e5117(0xa9)];_0x14aea2++){var _0x4e49ca=_0x4de9d5[_0x14aea2];_0x4e49ca['rotate'](_0x163a18,_0x4e49ca['bounds'][_0x2e5117(0xae)]);}_0xfb6903=_0x4c3f74,paper[_0x2e5117(0xab)][_0x2e5117(0xb6)]();},_0x5e1247=function(){_0x5d253c();};jQuery(document)['on']('SelectionChanged.rotateTool',_0x5e1247),_0x5d253c(),_0x58e98b[_0x2029d5(0x8f)]=function(_0x65c3d6){var _0xb20b59=_0x2029d5;_0x4d9fd6=![],_0x133438=pg['selection']['getSelectedItems'](),_0x53c3d5=_0x65c3d6[_0xb20b59(0xa3)];if(_0x133438[_0xb20b59(0xa9)]===0x0){var _0x48155b=paper[_0xb20b59(0xb9)][_0xb20b59(0x89)](_0x65c3d6[_0xb20b59(0xa3)],{'fill':!![],'stroke':!![],'tolerance':0x5});if(_0x48155b&&_0x48155b[_0xb20b59(0xb2)]){pg[_0xb20b59(0x9a)][_0xb20b59(0x96)](),pg[_0xb20b59(0x9a)]['setItemSelection'](_0x48155b['item'],!![]),_0x133438=pg[_0xb20b59(0x9a)][_0xb20b59(0x7e)](),_0x5d253c();if(_0x133438['length']===0x0)return;return;}return;}if(_0x28ff31[_0xb20b59(0x86)]===_0xb20b59(0x99)){for(var _0xdbb75b=0x0;_0xdbb75b<_0x133438['length'];_0xdbb75b++){var _0x26c387=_0x133438[_0xdbb75b];_0x26c387[_0xb20b59(0xa1)]=![],_0x3f968b[_0xb20b59(0x8d)](pg[_0xb20b59(0x9f)][_0xb20b59(0x9e)](_0x26c387['position'])),_0x28ff31[_0xb20b59(0xba)]&&_0x74a48a[_0xb20b59(0x8d)](Size[_0xb20b59(0x84)]()['width']),_0x4f83a6[_0xdbb75b]=_0x26c387[_0xb20b59(0xb8)];}_0x3a8aed=pg[_0xb20b59(0x9f)][_0xb20b59(0x9d)](_0x65c3d6['downPoint'],_0x65c3d6[_0xb20b59(0xa3)]),_0x22d69a=pg[_0xb20b59(0x9f)][_0xb20b59(0x8b)](_0x65c3d6['downPoint'],_0xb20b59(0x8a));}else{for(var _0xdbb75b=0x0;_0xdbb75b<_0x133438['length'];_0xdbb75b++){var _0x26c387=_0x133438[_0xdbb75b];_0x26c387[_0xb20b59(0xa1)]=!![];}if(!_0x1315d8){var _0x299452=null;for(var _0xdbb75b=0x0;_0xdbb75b<_0x133438[_0xb20b59(0xa9)];_0xdbb75b++){var _0x26c387=_0x133438[_0xdbb75b];_0xdbb75b===0x0?_0x299452=_0x26c387['bounds']:_0x299452=_0x299452[_0xb20b59(0x82)](_0x26c387['bounds']);}_0x1315d8=_0x299452[_0xb20b59(0xae)];}_0x28ff31[_0xb20b59(0x86)]===_0xb20b59(0xa0)&&(_0x1315d8=_0x65c3d6[_0xb20b59(0xa3)][_0xb20b59(0x9c)]());for(var _0xdbb75b=0x0;_0xdbb75b<_0x133438[_0xb20b59(0xa9)];_0xdbb75b++){var _0x26c387=_0x133438[_0xdbb75b];pg[_0xb20b59(0xb2)]['setPivot'](_0x26c387,_0x1315d8[_0xb20b59(0x9c)]()),_0x26adce[_0xdbb75b]=(_0x65c3d6['point']-_0x1315d8)[_0xb20b59(0x92)];}_0x3f968b[0x0]=pg[_0xb20b59(0x9f)][_0xb20b59(0x8b)](_0x1315d8,'grey'),_0x3a8aed=pg[_0xb20b59(0x9f)]['line'](_0x1315d8,_0x65c3d6['point']);}},_0x58e98b[_0x2029d5(0xb1)]=function(_0x342154){var _0xd86331=_0x2029d5;if(_0x133438[_0xd86331(0xa9)]===0x0)return;if(_0x28ff31[_0xd86331(0x86)]===_0xd86331(0x99)){var _0x126e70=(_0x342154[_0xd86331(0xa3)]-_0x342154[_0xd86331(0xb3)])['angle'];for(var _0x54c5aa=0x0;_0x54c5aa<_0x133438[_0xd86331(0xa9)];_0x54c5aa++){var _0x3626b2=_0x133438[_0x54c5aa];_0x3626b2['applyMatrix']=![];(_0x342154['point']-_0x342154[_0xd86331(0xb3)])[_0xd86331(0xa9)]<0x14&&(_0x4f83a6[_0x54c5aa]=(_0x342154[_0xd86331(0xa3)]-_0x342154[_0xd86331(0xb3)])[_0xd86331(0x92)]-_0x3626b2[_0xd86331(0xb8)]);if(_0x342154[_0xd86331(0xbc)][_0xd86331(0x90)])_0x126e70=Math['round'](_0x126e70/0x2d)*0x2d,_0x3626b2[_0xd86331(0xb8)]=_0x126e70;else{if(_0x28ff31[_0xd86331(0xb5)]){_0x3626b2[_0xd86331(0xa1)]=![];var _0x1de244=(_0x342154[_0xd86331(0xa3)]-_0x3626b2[_0xd86331(0xa6)])[_0xd86331(0x92)];_0x3626b2[_0xd86331(0xb8)]=_0x1de244;}else{if(_0x28ff31['randomSpeed']){var _0x3651d1=(_0x342154[_0xd86331(0xa3)]-_0x342154['downPoint'])[_0xd86331(0x92)],_0x46a554=(_0x342154[_0xd86331(0xa5)]-_0x342154['downPoint'])['angle'],_0x2662f7=_0x3651d1-_0x46a554;(_0x342154['point']-_0x342154[_0xd86331(0xb3)])[_0xd86331(0xa9)]<0x14&&(_0x2662f7=0x0);var _0x5d9b88=_0x2662f7<0x0?-_0x74a48a[_0x54c5aa]:_0x74a48a[_0x54c5aa];_0x3626b2[_0xd86331(0x91)](_0x2662f7+_0x5d9b88,_0x3626b2['position']);}else _0x3626b2[_0xd86331(0xb8)]=_0x126e70-_0x4f83a6[_0x54c5aa];}}}}else{var _0x126e70=(_0x342154[_0xd86331(0xa3)]-_0x1315d8)[_0xd86331(0x92)];for(var _0x54c5aa=0x0;_0x54c5aa<_0x133438[_0xd86331(0xa9)];_0x54c5aa++){var _0x3626b2=_0x133438[_0x54c5aa];_0x342154[_0xd86331(0xbc)][_0xd86331(0x90)]?(_0x126e70=Math[_0xd86331(0xac)](_0x126e70/0x2d)*0x2d,_0x3626b2[_0xd86331(0xa1)]=![],_0x3626b2[_0xd86331(0xb8)]=_0x126e70):_0x3626b2[_0xd86331(0x91)](_0x126e70-_0x26adce[_0x54c5aa]),_0x26adce[_0x54c5aa]=_0x126e70;}}_0x4d9fd6=!![],_0x3a8aed[_0xd86331(0x8c)][_0xd86331(0xa3)]=_0x342154[_0xd86331(0xa3)];},_0x58e98b['onMouseUp']=function(_0x5742c4){var _0x126023=_0x2029d5;if(_0x133438['length']===0x0)return;for(var _0x3cea4f=0x0;_0x3cea4f<_0x3f968b['length'];_0x3cea4f++){_0x3f968b[_0x3cea4f][_0x126023(0xa4)]();}_0x3a8aed&&_0x3a8aed['remove']();_0x22d69a&&_0x22d69a[_0x126023(0xa4)]();for(var _0x3cea4f=0x0;_0x3cea4f<_0x133438[_0x126023(0xa9)];_0x3cea4f++){var _0x476552=_0x133438[_0x3cea4f];pg['item']['setPivot'](_0x476552,_0x476552[_0x126023(0x98)][_0x126023(0xae)]);}_0x4f83a6=[],_0x4d9fd6&&(pg[_0x126023(0x93)]['snapshot']('rotate'),_0x4d9fd6=![],_0x5d253c());},_0x58e98b['onDeactivate']=function(){var _0x253c7b=_0x2029d5;jQuery(document)[_0x253c7b(0x7d)](_0x253c7b(0xa8));};var _0x44133f=null,_0x3f07b7=function(){_0x1315d8=null,_0x2320e4(),_0x44133f&&clearTimeout(_0x44133f),_0x44133f=setTimeout(function(){var _0x4e2b7a=a81_0xa24b;pg['undo'][_0x4e2b7a(0xb4)](_0x4e2b7a(0x91)),_0x44133f=null;},0x1f4);};pg[_0x2029d5(0x95)][_0x2029d5(0xad)](_0x28ff31,_0x36cb5f,_0x3f07b7),_0x58e98b['activate']();};return{'options':_0x28ff31,'activateTool':_0x8e91d3};});function a81_0x2f5d(){var _0x111cdd=['position','2903361ofEsuI','SelectionChanged.rotateTool','length','rotationAngle','view','round','setup','center','47536IFETJy','2TFdxfh','onMouseDrag','item','downPoint','snapshot','lookAt','update','28791nGRRYx','rotation','project','randomSpeed','getLocalOptions','modifiers','boolean','off','getSelectedItems','458413aRvhzy','Rotate','8505170JbqWaG','unite','tools','random','Lookat','rotationCenter','Angle\x20(degrees)','27UwYKkG','hitTest','grey','rotPivot','lastSegment','push','1032LqLebL','onMouseDown','shift','rotate','angle','undo','list','toolOptionPanel','clearSelection','Random\x20speed','bounds','individual','selection','5015912grfziQ','clone','line','crossPivot','guides','cursor','applyMatrix','4082465iMxizx','point','remove','lastPoint'];a81_0x2f5d=function(){return _0x111cdd;};return a81_0x2f5d();}