function a0_0x39a7(_0x1a663a,_0x4043aa){_0x1a663a=_0x1a663a-0x158;var _0x4e6ec5=a0_0x4e6e();var _0x39a7c0=_0x4e6ec5[_0x1a663a];return _0x39a7c0;}var a0_0x28aa4f=a0_0x39a7;function a0_0x4e6e(){var _0x4af94c=['clone','item','view','toolOptionPanel','selection','1DFxRXW','individual','hitTest','remove','getSelectedItems','update','snapshot','float','rotationCenter','cursor','Lookat','lastSegment','downPoint','49UBiuUx','Angle\x20(degrees)','setup','boolean','Rotate','applyMatrix','registerTool','random','rotation','198YDSKCe','point','rotate','round','setItemSelection','length','shift','tools','5061627jlYZLS','Random\x20speed','position','angle','center','1197734AmEplf','20xjLxUt','undo','modifiers','40532mMuVtu','push','Center','onMouseDown','grey','list','onDeactivate','randomSpeed','width','rotationAngle','13280768lvfZIw','2447120LsghhM','guides','lastPoint','rotPivot','1959768vNOJKl','unite','clearSelection','524118LCvdeU','abs','off','bounds'];a0_0x4e6e=function(){return _0x4af94c;};return a0_0x4e6e();}(function(_0x34cb81,_0x4f9d0c){var _0x409657=a0_0x39a7,_0x5bfc56=_0x34cb81();while(!![]){try{var _0x24805e=-parseInt(_0x409657(0x194))/0x1*(parseInt(_0x409657(0x175))/0x2)+-parseInt(_0x409657(0x170))/0x3+parseInt(_0x409657(0x179))/0x4*(parseInt(_0x409657(0x176))/0x5)+-parseInt(_0x409657(0x18b))/0x6*(-parseInt(_0x409657(0x15f))/0x7)+-parseInt(_0x409657(0x183))/0x8+-parseInt(_0x409657(0x188))/0x9+parseInt(_0x409657(0x184))/0xa*(parseInt(_0x409657(0x168))/0xb);if(_0x24805e===_0x4f9d0c)break;else _0x5bfc56['push'](_0x5bfc56['shift']());}catch(_0x27d0c7){_0x5bfc56['push'](_0x5bfc56['shift']());}}}(a0_0x4e6e,0xd9fdf),pg['tools'][a0_0x28aa4f(0x165)]({'id':'rotate','name':a0_0x28aa4f(0x163),'usedKeys':{'toolbar':'r'}}),pg['tools'][a0_0x28aa4f(0x16a)]=function(){var _0x49d7c5=a0_0x28aa4f,_0x49dd14,_0x9523b5={'rotationCenter':_0x49d7c5(0x193),'randomSpeed':![],'lookAt':![],'rotationAngle':0x0},_0x27f382={'rotationCenter':{'type':_0x49d7c5(0x17e),'label':_0x49d7c5(0x17b),'options':[_0x49d7c5(0x195),_0x49d7c5(0x193),_0x49d7c5(0x15b)]},'randomSpeed':{'type':_0x49d7c5(0x162),'label':_0x49d7c5(0x171),'requirements':{'rotationCenter':'individual'}},'lookAt':{'type':_0x49d7c5(0x162),'label':_0x49d7c5(0x15c),'requirements':{'rotationCenter':'individual'}},'rotationAngle':{'type':_0x49d7c5(0x159),'label':_0x49d7c5(0x160),'min':-0xb4,'max':0xb4}},_0x53e044=function(){var _0x2c97fa=_0x49d7c5,_0x2900a3,_0x3854e7,_0x1d4a0c=[],_0x4d16b2,_0x52bd0f,_0xaa458d=[],_0x49e56e=[],_0x32ee8e=![],_0x10b0d4=[],_0x45ca85,_0x245a75=![],_0x14bb6c=null;_0x9523b5=pg[_0x2c97fa(0x16f)]['getLocalOptions'](_0x9523b5),_0x49dd14=new Tool();var _0x5809b3=function(){var _0x436752=_0x2c97fa,_0x4d6637=pg[_0x436752(0x193)][_0x436752(0x198)]();if(_0x4d6637['length']===0x0)_0x9523b5[_0x436752(0x182)]=0x0,_0x14bb6c=0x0;else _0x4d6637[_0x436752(0x16d)]===0x1?(_0x9523b5[_0x436752(0x182)]=Math[_0x436752(0x16b)](_0x4d6637[0x0][_0x436752(0x167)]*0x64)/0x64,_0x14bb6c=_0x9523b5[_0x436752(0x182)]):(_0x9523b5['rotationAngle']=Math[_0x436752(0x16b)](_0x4d6637[0x0][_0x436752(0x167)]*0x64)/0x64,_0x14bb6c=_0x9523b5[_0x436752(0x182)]);_0x245a75=!![],pg[_0x436752(0x192)]['update'](_0x9523b5),_0x245a75=![];},_0x3ccf2d=function(){var _0x113cf7=_0x2c97fa;if(_0x245a75)return;var _0x57de4a=pg[_0x113cf7(0x193)][_0x113cf7(0x198)]();if(_0x57de4a['length']===0x0)return;var _0x50d5f4=parseFloat(_0x9523b5['rotationAngle'])||0x0,_0x217abc=_0x50d5f4-(_0x14bb6c||0x0);if(Math[_0x113cf7(0x18c)](_0x217abc)<0.01)return;for(var _0x1be83c=0x0;_0x1be83c<_0x57de4a['length'];_0x1be83c++){var _0x569103=_0x57de4a[_0x1be83c];_0x569103['rotate'](_0x217abc,_0x569103['bounds'][_0x113cf7(0x174)]);}_0x14bb6c=_0x50d5f4,paper[_0x113cf7(0x191)][_0x113cf7(0x199)]();},_0x52fdac=function(){_0x5809b3();};jQuery(document)['on']('SelectionChanged.rotateTool',_0x52fdac),_0x5809b3(),_0x49dd14[_0x2c97fa(0x17c)]=function(_0xfe422d){var _0xc2256=_0x2c97fa;_0x32ee8e=![],_0x2900a3=pg['selection'][_0xc2256(0x198)](),_0x45ca85=_0xfe422d['point'];if(_0x2900a3['length']===0x0){var _0x4f85e1=paper['project'][_0xc2256(0x196)](_0xfe422d[_0xc2256(0x169)],{'fill':!![],'stroke':!![],'tolerance':0x5});if(_0x4f85e1&&_0x4f85e1[_0xc2256(0x190)]){pg[_0xc2256(0x193)][_0xc2256(0x18a)](),pg['selection'][_0xc2256(0x16c)](_0x4f85e1['item'],!![]),_0x2900a3=pg['selection'][_0xc2256(0x198)](),_0x5809b3();if(_0x2900a3[_0xc2256(0x16d)]===0x0)return;return;}return;}if(_0x9523b5['rotationCenter']===_0xc2256(0x195)){for(var _0x1d88c0=0x0;_0x1d88c0<_0x2900a3[_0xc2256(0x16d)];_0x1d88c0++){var _0x596585=_0x2900a3[_0x1d88c0];_0x596585[_0xc2256(0x164)]=![],_0x1d4a0c[_0xc2256(0x17a)](pg[_0xc2256(0x185)]['crossPivot'](_0x596585[_0xc2256(0x172)])),_0x9523b5[_0xc2256(0x180)]&&_0xaa458d[_0xc2256(0x17a)](Size[_0xc2256(0x166)]()[_0xc2256(0x181)]),_0x49e56e[_0x1d88c0]=_0x596585[_0xc2256(0x167)];}_0x52bd0f=pg[_0xc2256(0x185)]['line'](_0xfe422d[_0xc2256(0x15e)],_0xfe422d[_0xc2256(0x169)]),_0x4d16b2=pg['guides']['rotPivot'](_0xfe422d[_0xc2256(0x15e)],_0xc2256(0x17d));}else{for(var _0x1d88c0=0x0;_0x1d88c0<_0x2900a3[_0xc2256(0x16d)];_0x1d88c0++){var _0x596585=_0x2900a3[_0x1d88c0];_0x596585[_0xc2256(0x164)]=!![];}if(!_0x3854e7){var _0x56d211=null;for(var _0x1d88c0=0x0;_0x1d88c0<_0x2900a3[_0xc2256(0x16d)];_0x1d88c0++){var _0x596585=_0x2900a3[_0x1d88c0];_0x1d88c0===0x0?_0x56d211=_0x596585[_0xc2256(0x18e)]:_0x56d211=_0x56d211[_0xc2256(0x189)](_0x596585['bounds']);}_0x3854e7=_0x56d211[_0xc2256(0x174)];}_0x9523b5[_0xc2256(0x15a)]===_0xc2256(0x15b)&&(_0x3854e7=_0xfe422d['point'][_0xc2256(0x18f)]());for(var _0x1d88c0=0x0;_0x1d88c0<_0x2900a3[_0xc2256(0x16d)];_0x1d88c0++){var _0x596585=_0x2900a3[_0x1d88c0];pg['item']['setPivot'](_0x596585,_0x3854e7[_0xc2256(0x18f)]()),_0x10b0d4[_0x1d88c0]=(_0xfe422d[_0xc2256(0x169)]-_0x3854e7)['angle'];}_0x1d4a0c[0x0]=pg['guides'][_0xc2256(0x187)](_0x3854e7,_0xc2256(0x17d)),_0x52bd0f=pg['guides']['line'](_0x3854e7,_0xfe422d[_0xc2256(0x169)]);}},_0x49dd14['onMouseDrag']=function(_0x5ca2f8){var _0xec3006=_0x2c97fa;if(_0x2900a3[_0xec3006(0x16d)]===0x0)return;if(_0x9523b5[_0xec3006(0x15a)]==='individual'){var _0x370f6f=(_0x5ca2f8[_0xec3006(0x169)]-_0x5ca2f8[_0xec3006(0x15e)])[_0xec3006(0x173)];for(var _0x480173=0x0;_0x480173<_0x2900a3[_0xec3006(0x16d)];_0x480173++){var _0x500103=_0x2900a3[_0x480173];_0x500103[_0xec3006(0x164)]=![];(_0x5ca2f8[_0xec3006(0x169)]-_0x5ca2f8['downPoint'])['length']<0x14&&(_0x49e56e[_0x480173]=(_0x5ca2f8[_0xec3006(0x169)]-_0x5ca2f8[_0xec3006(0x15e)])[_0xec3006(0x173)]-_0x500103[_0xec3006(0x167)]);if(_0x5ca2f8['modifiers'][_0xec3006(0x16e)])_0x370f6f=Math[_0xec3006(0x16b)](_0x370f6f/0x2d)*0x2d,_0x500103[_0xec3006(0x167)]=_0x370f6f;else{if(_0x9523b5['lookAt']){_0x500103[_0xec3006(0x164)]=![];var _0x1cf7bd=(_0x5ca2f8[_0xec3006(0x169)]-_0x500103[_0xec3006(0x172)])[_0xec3006(0x173)];_0x500103[_0xec3006(0x167)]=_0x1cf7bd;}else{if(_0x9523b5['randomSpeed']){var _0x26ee10=(_0x5ca2f8[_0xec3006(0x169)]-_0x5ca2f8[_0xec3006(0x15e)])['angle'],_0x362d74=(_0x5ca2f8[_0xec3006(0x186)]-_0x5ca2f8[_0xec3006(0x15e)])[_0xec3006(0x173)],_0x541a91=_0x26ee10-_0x362d74;(_0x5ca2f8['point']-_0x5ca2f8['downPoint'])[_0xec3006(0x16d)]<0x14&&(_0x541a91=0x0);var _0xb80a5b=_0x541a91<0x0?-_0xaa458d[_0x480173]:_0xaa458d[_0x480173];_0x500103[_0xec3006(0x16a)](_0x541a91+_0xb80a5b,_0x500103[_0xec3006(0x172)]);}else _0x500103[_0xec3006(0x167)]=_0x370f6f-_0x49e56e[_0x480173];}}}}else{var _0x370f6f=(_0x5ca2f8[_0xec3006(0x169)]-_0x3854e7)['angle'];for(var _0x480173=0x0;_0x480173<_0x2900a3[_0xec3006(0x16d)];_0x480173++){var _0x500103=_0x2900a3[_0x480173];_0x5ca2f8[_0xec3006(0x178)][_0xec3006(0x16e)]?(_0x370f6f=Math[_0xec3006(0x16b)](_0x370f6f/0x2d)*0x2d,_0x500103[_0xec3006(0x164)]=![],_0x500103['rotation']=_0x370f6f):_0x500103['rotate'](_0x370f6f-_0x10b0d4[_0x480173]),_0x10b0d4[_0x480173]=_0x370f6f;}}_0x32ee8e=!![],_0x52bd0f[_0xec3006(0x15d)][_0xec3006(0x169)]=_0x5ca2f8[_0xec3006(0x169)];},_0x49dd14['onMouseUp']=function(_0x29b550){var _0x27bb8f=_0x2c97fa;if(_0x2900a3[_0x27bb8f(0x16d)]===0x0)return;for(var _0x39139c=0x0;_0x39139c<_0x1d4a0c['length'];_0x39139c++){_0x1d4a0c[_0x39139c][_0x27bb8f(0x197)]();}_0x52bd0f&&_0x52bd0f[_0x27bb8f(0x197)]();_0x4d16b2&&_0x4d16b2['remove']();for(var _0x39139c=0x0;_0x39139c<_0x2900a3[_0x27bb8f(0x16d)];_0x39139c++){var _0xe5f563=_0x2900a3[_0x39139c];pg[_0x27bb8f(0x190)]['setPivot'](_0xe5f563,_0xe5f563[_0x27bb8f(0x18e)][_0x27bb8f(0x174)]);}_0x49e56e=[],_0x32ee8e&&(pg[_0x27bb8f(0x177)][_0x27bb8f(0x158)](_0x27bb8f(0x16a)),_0x32ee8e=![],_0x5809b3());},_0x49dd14[_0x2c97fa(0x17f)]=function(){var _0x3b5f76=_0x2c97fa;jQuery(document)[_0x3b5f76(0x18d)]('SelectionChanged.rotateTool');};var _0x9d0a98=null,_0x1ee3d2=function(){_0x3854e7=null,_0x3ccf2d(),_0x9d0a98&&clearTimeout(_0x9d0a98),_0x9d0a98=setTimeout(function(){var _0x407942=a0_0x39a7;pg[_0x407942(0x177)][_0x407942(0x158)]('rotate'),_0x9d0a98=null;},0x1f4);};pg['toolOptionPanel'][_0x2c97fa(0x161)](_0x9523b5,_0x27f382,_0x1ee3d2),_0x49dd14['activate']();};return{'options':_0x9523b5,'activateTool':_0x53e044};});