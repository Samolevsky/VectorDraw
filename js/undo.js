function a0_0x10a3(){var _0x26ec46=['UndoSnapshot','importJSON','exportJSON','1999jxDfVp','json','project','snapshot','getGridType','square','207iYWGfQ','slice','length','4517408HhorGj','grid','9iKYISe','activeLayer','16744hKmNmG','2600030qTovjN','6QGUklr','isGridVisible','432ovkzFx','showGrid','165DyMelZ','2464770Qvhzmt','trigger','init','clear','shift','layer','splice','replace','758709fWHRoN','push','1002372JPchxq','update','signature','Undo'];a0_0x10a3=function(){return _0x26ec46;};return a0_0x10a3();}function a0_0x306b(_0xff7eb,_0x2ee01e){_0xff7eb=_0xff7eb-0x199;var _0x10a36f=a0_0x10a3();var _0x306b93=_0x10a36f[_0xff7eb];return _0x306b93;}(function(_0x23876b,_0x109e2b){var _0xb25755=a0_0x306b,_0x2daf20=_0x23876b();while(!![]){try{var _0x5b4884=parseInt(_0xb25755(0x1a0))/0x1*(parseInt(_0xb25755(0x1b1))/0x2)+parseInt(_0xb25755(0x1a6))/0x3*(-parseInt(_0xb25755(0x1ad))/0x4)+-parseInt(_0xb25755(0x1b4))/0x5*(-parseInt(_0xb25755(0x1af))/0x6)+parseInt(_0xb25755(0x1bc))/0x7+parseInt(_0xb25755(0x1a9))/0x8+-parseInt(_0xb25755(0x1ab))/0x9*(-parseInt(_0xb25755(0x1ae))/0xa)+parseInt(_0xb25755(0x1b3))/0xb*(-parseInt(_0xb25755(0x199))/0xc);if(_0x5b4884===_0x109e2b)break;else _0x2daf20['push'](_0x2daf20['shift']());}catch(_0xc64f5b){_0x2daf20['push'](_0x2daf20['shift']());}}}(a0_0x10a3,0x4d265),pg['undo']=(function(){var _0x586fa7=[],_0x37db76=-0x1,_0x2fedee=0x50,_0x37f897=function(){var _0x164d77=a0_0x306b;pg['undo'][_0x164d77(0x1a3)](_0x164d77(0x1b6));},_0x5da068=function(_0x1db28e){var _0x681e3e=a0_0x306b,_0x4861eb=paper[_0x681e3e(0x1a2)][_0x681e3e(0x19f)]({'asString':!![]}),_0x342086=function(_0x4f1dbe){var _0x14d605=_0x681e3e;try{return _0x4f1dbe[_0x14d605(0x1bb)](/"selected"\s*:\s*(true|false)/g,'')[_0x14d605(0x1bb)](/"fullySelected"\s*:\s*(true|false)/g,'')[_0x14d605(0x1bb)](/,\s*,/g,',')[_0x14d605(0x1bb)](/\{\s*,/g,'{')['replace'](/,\s*\}/g,'}');}catch(_0x3367b3){return _0x4f1dbe;}},_0x6dd944=_0x342086(_0x4861eb);if(_0x586fa7[_0x681e3e(0x1a8)]>0x0){var _0x3c3553=_0x586fa7[_0x586fa7[_0x681e3e(0x1a8)]-0x1];if(_0x3c3553&&_0x3c3553[_0x681e3e(0x19b)]===_0x6dd944){jQuery(document)[_0x681e3e(0x1b5)]('UndoSnapshot');return;}}var _0x44eef4={'type':_0x1db28e,'json':_0x4861eb,'signature':_0x6dd944};_0x37db76<_0x586fa7[_0x681e3e(0x1a8)]-0x1&&(_0x586fa7=_0x586fa7[_0x681e3e(0x1a7)](0x0,_0x37db76+0x1)),_0x586fa7[_0x681e3e(0x1bd)](_0x44eef4),_0x586fa7[_0x681e3e(0x1a8)]>_0x2fedee&&_0x586fa7[_0x681e3e(0x1b8)](),_0x37db76=_0x586fa7[_0x681e3e(0x1a8)]-0x1,jQuery(document)[_0x681e3e(0x1b5)](_0x681e3e(0x19d));},_0x1c0785=function(){var _0x346887=a0_0x306b;_0x37db76>0x0&&(_0x37db76--,_0xd24d6b(_0x586fa7[_0x37db76]),jQuery(document)[_0x346887(0x1b5)](_0x346887(0x19c)));},_0x4dab39=function(){var _0xa21602=a0_0x306b;_0x37db76<_0x586fa7[_0xa21602(0x1a8)]-0x1&&(_0x37db76++,_0xd24d6b(_0x586fa7[_0x37db76]),jQuery(document)[_0xa21602(0x1b5)]('Redo'));},_0x1ff7df=function(){var _0x298725=a0_0x306b;_0x586fa7[_0x298725(0x1ba)](-0x1,0x1);},_0xd24d6b=function(_0x8a3c83){var _0x5beff=a0_0x306b,_0x193065=pg[_0x5beff(0x1aa)]&&pg['grid']['isGridVisible']?pg[_0x5beff(0x1aa)][_0x5beff(0x1b0)]():![],_0x5aa515=pg[_0x5beff(0x1aa)]&&pg[_0x5beff(0x1aa)]['getGridType']?pg[_0x5beff(0x1aa)][_0x5beff(0x1a4)]():_0x5beff(0x1a5),_0xd15e71=paper[_0x5beff(0x1a2)][_0x5beff(0x1ac)]['data']['id'];paper[_0x5beff(0x1a2)][_0x5beff(0x1b7)](),paper['view'][_0x5beff(0x19a)](),paper[_0x5beff(0x1a2)][_0x5beff(0x19e)](_0x8a3c83[_0x5beff(0x1a1)]),pg[_0x5beff(0x1b9)]['reinitLayers'](_0xd15e71),_0x193065&&pg[_0x5beff(0x1aa)]&&pg[_0x5beff(0x1aa)][_0x5beff(0x1b2)]&&pg[_0x5beff(0x1aa)]['showGrid'](_0x5aa515);},_0x45701f=function(){_0x586fa7=[],_0x37db76=-0x1;},_0x257ea7=function(){return _0x586fa7;},_0x47dd63=function(){return _0x37db76;};return{'setup':_0x37f897,'snapshot':_0x5da068,'undo':_0x1c0785,'redo':_0x4dab39,'removeLastState':_0x1ff7df,'clear':_0x45701f,'getStates':_0x257ea7,'getHead':_0x47dd63};}()));