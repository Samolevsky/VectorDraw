function a97_0x5600(_0x15b0eb,_0x27e00f){_0x15b0eb=_0x15b0eb-0xdc;var _0x4cf6e2=a97_0x4cf6();var _0x560076=_0x4cf6e2[_0x15b0eb];return _0x560076;}(function(_0xb20393,_0x33b67c){var _0xb70d20=a97_0x5600,_0xbe60ef=_0xb20393();while(!![]){try{var _0x4334dc=-parseInt(_0xb70d20(0xdf))/0x1*(-parseInt(_0xb70d20(0xe5))/0x2)+-parseInt(_0xb70d20(0xe8))/0x3+-parseInt(_0xb70d20(0xf9))/0x4*(-parseInt(_0xb70d20(0xe4))/0x5)+-parseInt(_0xb70d20(0xde))/0x6+parseInt(_0xb70d20(0xef))/0x7*(parseInt(_0xb70d20(0xe2))/0x8)+parseInt(_0xb70d20(0xf6))/0x9+-parseInt(_0xb70d20(0xe9))/0xa;if(_0x4334dc===_0x33b67c)break;else _0xbe60ef['push'](_0xbe60ef['shift']());}catch(_0x11e93f){_0xbe60ef['push'](_0xbe60ef['shift']());}}}(a97_0x4cf6,0x7cc02),pg['undo']=(function(){var _0x38a6c0=[],_0x51e3e0=-0x1,_0x51e7a3=0x50,_0x2d9dcb=function(){var _0x13404d=a97_0x5600;pg['undo'][_0x13404d(0xee)](_0x13404d(0xf5));},_0x5a335a=function(_0x596937){var _0x111069=a97_0x5600,_0xc600e0={'type':_0x596937,'json':paper[_0x111069(0xea)][_0x111069(0xf1)]({'asString':![]})};_0x51e3e0<_0x38a6c0[_0x111069(0xf7)]-0x1&&(_0x38a6c0=_0x38a6c0['slice'](0x0,_0x51e3e0+0x1)),_0x38a6c0[_0x111069(0xf4)](_0xc600e0),_0x38a6c0[_0x111069(0xf7)]>_0x51e7a3&&_0x38a6c0[_0x111069(0xdc)](),_0x51e3e0=_0x38a6c0[_0x111069(0xf7)]-0x1,jQuery(document)[_0x111069(0xed)](_0x111069(0xe6));},_0x4865fd=function(){var _0x4ee189=a97_0x5600;_0x51e3e0>0x0&&(_0x51e3e0--,_0x5f09d0(_0x38a6c0[_0x51e3e0]),jQuery(document)['trigger'](_0x4ee189(0xfa)));},_0x2a23ca=function(){var _0x204e2c=a97_0x5600;_0x51e3e0<_0x38a6c0[_0x204e2c(0xf7)]-0x1&&(_0x51e3e0++,_0x5f09d0(_0x38a6c0[_0x51e3e0]),jQuery(document)[_0x204e2c(0xed)]('Redo'));},_0x5452cb=function(){var _0x1e664b=a97_0x5600;_0x38a6c0[_0x1e664b(0xf2)](-0x1,0x1);},_0x5f09d0=function(_0x5e959c){var _0x42d0ba=a97_0x5600,_0x2955c5=pg[_0x42d0ba(0xe7)]&&pg[_0x42d0ba(0xe7)][_0x42d0ba(0xfb)]?pg[_0x42d0ba(0xe7)][_0x42d0ba(0xfb)]():![],_0x34f0d9=pg['grid']&&pg[_0x42d0ba(0xe7)][_0x42d0ba(0xec)]?pg[_0x42d0ba(0xe7)][_0x42d0ba(0xec)]():_0x42d0ba(0xf0),_0x3dac0c=paper[_0x42d0ba(0xea)][_0x42d0ba(0xe0)]['data']['id'];paper[_0x42d0ba(0xea)][_0x42d0ba(0xe3)](),paper['view'][_0x42d0ba(0xf3)](),paper[_0x42d0ba(0xea)][_0x42d0ba(0xf8)](_0x5e959c['json']),pg[_0x42d0ba(0xe1)][_0x42d0ba(0xeb)](_0x3dac0c),_0x2955c5&&pg['grid']&&pg['grid'][_0x42d0ba(0xdd)]&&pg['grid']['showGrid'](_0x34f0d9);},_0x1fb9cc=function(){_0x38a6c0=[],_0x51e3e0=-0x1;},_0x2e5072=function(){return _0x38a6c0;},_0x5b3cf9=function(){return _0x51e3e0;};return{'setup':_0x2d9dcb,'snapshot':_0x5a335a,'undo':_0x4865fd,'redo':_0x2a23ca,'removeLastState':_0x5452cb,'clear':_0x1fb9cc,'getStates':_0x2e5072,'getHead':_0x5b3cf9};}()));function a97_0x4cf6(){var _0xd94370=['49380aPvSih','Undo','isGridVisible','shift','showGrid','3921180NoIhLh','3YrZYIi','activeLayer','layer','36216bRLPgr','clear','265jdJmNv','391896yxoeHU','UndoSnapshot','grid','2304186MzWrIT','2981110BaLLjL','project','reinitLayers','getGridType','trigger','snapshot','1484ZTdrDj','square','exportJSON','splice','update','push','init','259452VzgUPk','length','importJSON'];a97_0x4cf6=function(){return _0xd94370;};return a97_0x4cf6();}